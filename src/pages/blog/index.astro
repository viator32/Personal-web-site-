---
import Base from "../../layouts/Base.astro";
import { getCollection } from 'astro:content';
const posts = (await getCollection('blog')).filter(p => !p.data.draft).sort((a,b) => b.data.date.localeCompare(a.data.date));
---
<Base title="Blog — My Brand">
  <h1>Blog</h1>
  <ul class="blog-list">
    {posts.map(post => (
      <li>
        <a href={`/blog/${post.slug}/`}>{post.data.title}</a>
        <small> — {post.data.date}</small>
        {post.data.description && <p>{post.data.description}</p>}
      </li>
    ))}
  </ul>
</Base>
